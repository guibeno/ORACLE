-- procedures

CREATE TABLE funcionarios (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    nome VARCHAR2(100),
    sobrenome VARCHAR2(100),
    departamento VARCHAR2(100),
    salario NUMBER(10, 2)
);


CREATE OR REPLACE PROCEDURE inserir_funcionario(
    p_nome IN VARCHAR2, 
    p_sobrenome IN VARCHAR2, 
    p_departamento IN VARCHAR2, 
    p_salario IN NUMBER
) IS
BEGIN
    INSERT INTO funcionarios (nome, sobrenome, departamento, salario)
    VALUES (p_nome, p_sobrenome, p_departamento, p_salario);
    
    COMMIT; 
END;


BEGIN
    inserir_funcionario('Ana', 'Oliveira', 'Vendas', 2500);
    inserir_funcionario('Bruno', 'Souza', 'TI', 3200);
    inserir_funcionario('Carla', 'Mendes', 'RH', 1800);
    inserir_funcionario('Diego', 'Martins', 'Financeiro', 3500);
    inserir_funcionario('Eduarda', 'Silva', 'Marketing', 4100);
    inserir_funcionario('Felipe', 'Rocha', 'TI', 5000);
    inserir_funcionario('Gabriela', 'Lima', 'Financeiro', 4700);
    inserir_funcionario('Henrique', 'Torres', 'Vendas', 2000);
    inserir_funcionario('Isabela', 'Costa', 'Marketing', 3900);
    inserir_funcionario('João', 'Pereira', 'RH', 2300);
    inserir_funcionario('Lucas', 'Santos', 'TI', 5500);
    inserir_funcionario('Mariana', 'Ferreira', 'Vendas', 2800);
    inserir_funcionario('Natália', 'Almeida', 'Financeiro', 4200);
    inserir_funcionario('Otávio', 'Oliveira', 'Marketing', 3000);
    inserir_funcionario('Paula', 'Costa', 'Vendas', 2700);
    inserir_funcionario('Rafael', 'Martins', 'TI', 6000);
    inserir_funcionario('Sofia', 'Pereira', 'RH', 3500);
    inserir_funcionario('Tiago', 'Silva', 'Financeiro', 4200);
    inserir_funcionario('Viviane', 'Lima', 'Marketing', 4000);
END;


SELECT * FROM funcionarios;

CREATE OR REPLACE PROCEDURE obter_nome_completo(
 p_id IN NUMBER,
 P_nome_completo OUT VARCHAR2)
 IS
 BEGIN
    SELECT nome || ' ' || sobrenome
    INTO p_nome_completo
    FROM funcionarios
    WHERE id = p_id;
END;
/


DECLARE
    v_nome_completo VARCHAR2(200);
BEGIN
    obter_nome_completo(1, v_nome_completo);
    DBMS_OUTPUT.PUT_LINE('Nome completo: ' || v_nome_completo);
END;
/


CREATE OR REPLACE PROCEDURE aumento_do_salario IS
BEGIN

    UPDATE funcionarios
    SET salario = salario * 1.12
    WHERE MOD(id, 2) = 0;

    UPDATE funcionarios
    SET salario = salario * 1.13
    WHERE MOD(id, 2) = 1;

  
    UPDATE funcionarios
    SET data_ultimo_aumento = SYSDATE;
END;
/

    
BEGIN
    aumento_do_salario();
END;
    
    
SELECT id, nome, salario, data_ultimo_aumento
FROM funcionarios




 

